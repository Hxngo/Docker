# Docker란?

Docker는 **컨테이너 기반의 가상화 시스템**으로, Docker Engine 또는 Docker와 관련된 모든 프로젝트를 포함합니다.

- **Docker Engine**: 컨테이너를 생성하고 관리하는 주체로, Docker의 핵심 기능입니다.

## 가상화 (Virtualization)

- 물리적 서버를 여러 개의 가상 서버로 나누어 여러 사용자에게 제공하는 방식입니다.
- Docker를 사용하면 여러 개의 독립된 운영체제를 실행할 필요 없이, 동일한 운영체제 위에 필요한 부분만 가상화하여 **컨테이너**로 사용할 수 있습니다.


- **컨테이너 (Container)**: 리눅스의 자체 기능을 활용하여 프로세스 단위의 격리된 환경을 제공하는 가벼운 가상화 방식입니다.
  - 커널을 공유하기 때문에 용량이 작고, 배포와 성능 손실이 적습니다.

## Docker 아키텍처


- **Docker Client**: Docker 명령어 (`build`, `pull`, `run` 등)를 수행하는 인터페이스.
- **DOCKER_HOST**: Docker가 실행되는 서버로, 컨테이너와 이미지를 관리합니다.
- **Docker Daemon**: Docker 엔진으로, 실제로 컨테이너를 생성하고 관리하는 역할을 합니다.
- **Registry**: 외부 이미지 저장소로, 다른 사용자들이 공유한 이미지를 가져와서 사용할 수 있습니다.
  - **Public 저장소**: Docker Hub, QUAY  
  - **Private 저장소**: AWS ECR 또는 Docker Registry를 직접 설정하여 비공개로 사용.

## Docker 이미지와 Docker 컨테이너

Docker 엔진에서 사용하는 기본 단위는 **이미지**와 **컨테이너**입니다.

- **이미지**와 **컨테이너**의 관계는 1:N으로, 이미지는 컨테이너의 템플릿 역할을 합니다.
- **Docker File → Docker Image**: Docker file은 도커 이미지를 만들기 위한 파일이며, 이를 통해 컨테이너를 생성할 수 있습니다.


### Docker 이미지

- **Docker 이미지**: 컨테이너를 생성할 때 필요한 요소로, 가상 머신의 iso 파일과 유사한 개념입니다.
- 이미지는 여러 계층으로 된 바이너리 파일로 존재하며, 읽기 전용으로 사용됩니다.

### Docker 컨테이너

- **Docker 컨테이너**: Docker 이미지로부터 생성되며, 이미지의 목적에 맞는 파일을 가진 독립된 시스템 자원과 네트워크를 사용하는 공간입니다.
- 컨테이너는 이미지에서 변경된 사항만 저장하며, 원래 이미지는 영향을 받지 않습니다.
- 각 컨테이너는 독립된 파일 시스템을 제공받고 호스트와 분리되어 있습니다.

### Docker 컨테이너 생성 방법

1. **Dockerfile 생성**: 어플리케이션 구동에 필요한 파일, 프레임워크, 라이브러리, 환경 변수 등을 명시하고 구동 스크립트 포함.
2. **이미지 생성**: 어플리케이션 실행에 필요한 모든 설정이 포함된 불변의 상태로 생성.
3. **컨테이너 구동**: 이미지를 사용하여 고립된 환경에서 어플리케이션 실행.

### 컨테이너 배포 방법 (이미지 공유 방법)

1. Local Machine과 Server에 Docker 설치.
2. Dockerfile 작성 후 이미지 생성.
3. 이미지를 컨테이너 Registry에 업로드.
4. 서버에서 이미지 다운로드 후 컨테이너 실행.

---